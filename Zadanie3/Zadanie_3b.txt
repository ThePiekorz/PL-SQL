CREATE OR REPLACE TRIGGER TRG_OSOBY_BEFORE_UPDATE
BEFORE UPDATE ON OSOBY
FOR EACH ROW
DECLARE
	zlicz NUMBER;
BEGIN
	SELECT COUNT(*) INTO zlicz FROM MIASTA WHERE NAZWA_MIASTA =
:NEW.MIASTO;
	IF zlicz = 0 THEN
		RAISE_APPLICATION_ERROR(-20001, 'Po updacie nie ma miasta');
	END IF;
END;
/